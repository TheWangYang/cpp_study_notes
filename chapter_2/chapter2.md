## C++基础

### main函数介绍

C++的函数可以被其他函数激活和调用，函数头描述了函数与调用它的函数之间的接口；

main()函数是被启动代码调用的，启动代码是被编译器加入到程序中的，是程序和操作系统之间的连接桥梁；

int main()描述的是main()和操作系统之间的接口；

C++中使用main()和使用main(void)是等效的；（C中让括号空着表示对是否接受参数保持沉默）

如果编译器达到main()函数的结尾时没有遇到return返回语句，则默认是以return 0;作为main()函数的结尾；
注意：这条隐含的return 0;语句只适合于main()函数而不适用于其他函数；

通常来说，C++程序中必须包含一个main()函数；在运行C++程序时，通常从main()函数开始执行；

常规的独立的程序都需要main()；

### C++注释

```

//C++风格注释

/**/C风格多行注释
```

### C++预处理器和iostream文件

如果程序需要使用C++输入或输出工具，需要写这两行代码：

```
#include <iostream>
using namespace std;
```

C++和C一样也是用一个预处理器，在对程序进行主编译之前，会对源文件进行处理（即处理以#开头的程序），预处理程序会在编译时自动运行；
执行程序之后，预处理器将iostream文件的内容添加到程序中；

__为什么需要使用预处理器程序？__
因为当程序涉及程序与外部之间的IO交互的时候，就需要加入iostream文件内容添加到源文件头部；

iostream这样的文件叫做头文件（或包含文件）；

C语言的传统是使用.h作为头文件；
C++中保留了对C中的传统的以.h作为头文件，同时C++自己的头文件不适用扩展名；

注意：有些C语言中的头文件.h被转换为C++中的头文件时，会在文件名的最前边加上c，表示该头文件初始来自传统的C语言；

### 名称空间

```
#include<xxx>
using namespace std;
```

这叫做using编译指令。

__名称空间__:如果在合并两个不同厂商的产品时，程序中都存在名为name的函数nam()，那么在编译程序时，编译器将不会知道究竟使用哪个name()函数，那么名称空间的作用就是，给编译器指定使用哪个name()函数。假如提供两个产品的生产商分别为A/B，那么对于A厂商使用的name()函数为：
A::name()
同理对B厂商来说为：
B::name()

那么，类\函数\变量是C++编译器的标准组件，都被放置在了名称空间为std中。（仅当头文件没有扩展名.h时，情况才是如此）
也就是说实际上：cout变量实际上是std::cout；

使用如下名称空间的作用相当于将iostream文件中的所有标准组件都暴露了出来

```
using namespace std;

```

还可以换成另外一种写法，用到哪个变量就暴露出来哪个：

```
using std::cout;
using std::cin;
using std::endl;

```

上述第二种写法适用于大型项目；

### 使用cout进行输出

```
cout << "xxx" << endl;
```

其中，<<表示将后边的字符串发送给cout；其中，cout是一个预定义的对象，其中包含如何显示字符串等一系列组件（对象是类的实例，类定义了数据的存储和使用方式）。

对于对象来说，只需要知道它的接口就可以使用，这是对象方便的地方之一；

详细解释cout << "xxx";发生了什么：

```
cout << "xxx"
```

其中，cout是对象，<<是插入运算符，"xxx"是字符串；

### 运算符重载

<<就是运算符重载的例子，通过重载相同的运算符号可以表示不同的含义；
编译器通过上下文的含义来确定运算符的含义；

在输出流中插入endl;将会使屏幕上的光标移动到下一行开头；

endl等被称为控制符；

### 换行符的旧式写法

C++中还提供了另外一种换行的方法：
\n
\n被视为一个字符，名为换行符；

### 使用\n和endl的区别

使用\n不能保证程序继续运行前刷新输出（将其立即显示在屏幕上）；
使用endl则可以保证；

换行符是一种被称为“转义序列”的按键组合；

### C++源代码的格式化

在C++中可以在能够使用回车的地方使用空格，反之也成立；
例如上述代码可以写为：

```
#includa<iostream>
int
main(){
    using
    namespace
            std;cout
                << 
"xxx"
;   cout <<
endl; cout << 
"xxx"
endl;return 0; 
}

```

在C++11中，新增的原始（raw）字符串可包含回车；

### 源代码中的标记和空白

一行代码中不可分割的元素叫做标记（token），必须使用空格\制表符\回车将两个标记分开，空格\制表符\回车统称为空白（white space）。

### C++源代码风格

具有如下规则：

1. 每条语句占一行；
2. 每个函数都有一个开始花括号和一个结束花括号，两个花括号各占一行；
3. 函数中的语句都相对于花括号进行缩进；
4. 与函数名称相关的圆括号周围没有空白；

## C++语句

### 声明语句和变量

C++程序中需要指出信息的存储位置和所需要的内存空间大小。C++中使用声明语句来实现上述的功能；

```
int number;
```

上述语句指出了需要的内存和内存单元的名称；
C++中int类型的大小范围取决于实现；

程序中的声明语句叫做定义声明（简称为定义）；
较为复杂的时候还可能使用引用声明；
通常，声明不是定义，但是上述的这个例子中是定义；

C++中通常在首次使用变量声明它；

### 赋值语句

C++中可以连续使用赋值运算符；

```
int a;
int b;
int c;

a = b = c = 88;
```

例如上述语句是合法的，赋值从右向左进行。

### cout的新花样

```
cout << a;
```

这个语句没有打印出a而是a中存储的数值；
实际上具体的过程如下：
首先cout将a替换为其当前值88，然后将该值转换为合适的输出字符。

实际上C++插入运算符<<将根据其后的数据类型相应地调整其行为，这是一个运算符重载的例子；

### 其他C++语句

使用cout进行拼接输出：

```
cout << "xxx" << xxxx << "xxx" << endl;
```

### 类简介

C++中的类对应于某些语言中的对象类型，C++中对象对应于某些语言中的实例或实例变量。
cout是ostream类的一个对象。

C++中提供了两种发送消息的方式：

1. 使用类方法（本质上就是函数调用）；
2. 重新定义运算符（cin和cout就是采用的这种方式）；

### 函数

1. 使用有返回值的函数

```
x = sqrt(6.25)
```

上述程序中将调用sqrt()函数，被调用的函数称为被调用函数，包含函数调用的函数叫做调用函数；

括号中的值是发送给函数的信息，被称为传递给函数；

C++中提供信息的方式是使用函数原型语句来实现的；
例如sqrt()函数原型如下：

```
double sqrt(double);
```

第一个double意味着sqrt()将返回一个double值，括号中的double意味着sqrt()需要一个double参数；

原型结尾的分号表示它是一条语句，使得它是一个原型而不是函数头；

在程序中使用sqrt()时，需要提供原型，可以用两种方法来实现：

1. 在源代码文件中输入函数原型；
2. 包含头文件cmath，其中定义了原型；

头文件中包含了函数的原型，而库文件中包含了函数对应的代码；

只包含cmath头文件可以提供原型，但是不一定会导致编译器搜索正确的库文件；

注意：C++中每个函数都是独立的，所有函数的创建都是平等的；

```
int test(int n)
```

上述函数中表示，传入的参数为int类型的n，而不接受其他任何参数；

int main()函数的返回值int类型的数给操作系统；

函数的全部特性：有函数头和函数体、接受一个参数、返回一个值、需要一个原型；

### 名称空间的位置

1. 将using namespace std; 放在函数定义之前，让文件中所有的函数都能够使用名称空间std中的所有元素；
2. 将using namespace std; 放在特定的函数中，让该函数可以使用名称空间std中的所有元素；
3. 在特定的函数中使用类似using std::cout; 让该函数可以使用std名称空间下的cout元素；
4. 完全不使用编译指令using，而在每次需要的时候使用std::xxx来使用std名称空间中的xxx元素；
